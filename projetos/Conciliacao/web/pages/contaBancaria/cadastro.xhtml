<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:p="http://primefaces.org/ui">

    <link href="../../css/menu/styles.css" rel="stylesheet" type="text/css"/>
    <link href="../../css/crud.css" rel="stylesheet" type="text/css"/>

    <ui:composition template="../templates/master.xhtml">

        <ui:define name="conteudo">

            <p:panel  id="pnlCadastro" header="#{bundle.FormCadastroContaBancarias}" toggleable="false" closable="true" toggleSpeed="500" closeSpeed="500" widgetVar="panel" >  

                <h:form id="form" styleClass="jsfcrud_list_form">

                    <p:outputPanel id="pnlGrid" >

                        <p:panel rendered="#{contaBancariaCadastro.gridVisivel}"  >



                            <p:panel id="dados">

                                <p:toolbar id="toolbar" >  
                                    <p:toolbarGroup align="left">  

                                        <p:commandButton title="#{bundle.CreateLink}"  action="#{contaBancariaCadastro.criaNovo}" icon="ui-icon-document" ajax="false" />                                                
                                    </p:toolbarGroup>  
                                </p:toolbar>                         

                                <p:dataTable id="dataTable" value="#{contaBancariaCadastro.listaDeContasBancarias}" var="item"
                                             rowStyleClass="jsfcrud_odd_row,jsfcrud_even_row" 
                                             paginator="true" rows="5"  
                                             paginatorTemplate="{CurrentPageReport}  {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink}">  

                                    <p:column >
                                        <f:facet name="header">
                                            <p:outputLabel value="#{bundle.ListContaBancariaTitle_descricao}"/>
                                        </f:facet>
                                        <p:outputLabel value="#{item.descricao}"/>
                                    </p:column>
                                    <p:column>
                                        <f:facet name="header">
                                            <p:outputLabel value="#{bundle.ListContaBancariaTitle_banco}"/>
                                        </f:facet>
                                        <p:outputLabel value="#{item.banco.descricao}"/>
                                    </p:column>
                                    <p:column>
                                        <f:facet name="header">
                                            <p:outputLabel value="#{bundle.ListContaBancariaTitle_agencia}"/>
                                        </f:facet>
                                        <p:outputLabel value="#{item.agencia}"/>
                                    </p:column>
                                    <p:column>
                                        <f:facet name="header">
                                            <p:outputLabel value="#{bundle.ListContaBancariaTitle_agencia_digito}"/>
                                        </f:facet>
                                        <p:outputLabel value="#{item.agenciaDigito}"/>
                                    </p:column>
                                    <p:column>
                                        <f:facet name="header">
                                            <p:outputLabel value="#{bundle.ListContaBancariaTitle_numero}"/>
                                        </f:facet>
                                        <p:outputLabel value="#{item.numero}"/>
                                    </p:column>
                                    <p:column>
                                        <f:facet name="header">
                                            <p:outputLabel value="#{bundle.ListContaBancariaTitle_numero_digito}"/>
                                        </f:facet>
                                        <p:outputLabel value="#{item.numeroDigito}"/>
                                    </p:column>
                                    <p:column>
                                        <f:facet name="header">
                                            <p:outputLabel value="&nbsp;"/>
                                        </f:facet>
                                        <p:commandButton title="#{bundle.EditLink}" action="#{contaBancariaCadastro.edita}" update=":form:tabela" ajax="false" icon="ui-icon-pencil"/>
                                        <p:commandButton title="#{bundle.DestroyLink}" action="#{contaBancariaCadastro.exclui}" update=":form:tabela" ajax="false" icon="ui-icon-trash"/>                            
                                    </p:column>
                                </p:dataTable> 

                            </p:panel>

                        </p:panel>

                    </p:outputPanel>

                    <p:outputPanel id="pnlItem"   >

                        <p:panel rendered="#{contaBancariaCadastro.itemVisivel}">

                            <p:toolbar>
                                <p:toolbarGroup align="left"  >
                                    <p:commandButton id="salvar" title="#{bundle.SaveLink}" actionListener="#{contaBancariaCadastro.persiste}"  ajax="false" icon="ui-icon-disk" />
                                    <p:commandButton title="#{bundle.VoltarLink}" actionListener="#{contaBancariaCadastro.mostraGrid}" ajax="false" immediate="true" icon="ui-icon-arrowreturnthick-1-w" />
                                </p:toolbarGroup>
                            </p:toolbar>

                            <p:panelGrid columns="2">

                                <p:outputLabel value="#{bundle.CreateContaBancariaLabel_descricao}" for="descricao" />
                                <p:inputText id="descricao" value="#{contaBancariaCadastro.contaBancaria.descricao}" title="#{bundle.CreateContaBancariaTitle_descricao}" required="true" requiredMessage="#{bundle.CreateContaBancariaRequiredMessage_descricao}"/>




                                <p:outputLabel value="#{bundle.CreateContaBancariaLabel_banco}" for="banco" />
                                <p:selectOneMenu id="banco" value="#{contaBancariaCadastro.contaBancaria.banco}" converter="converterBanco" >
                                    <f:selectItem itemLabel="Selecione um banco" itemValue="" />
                                    <f:selectItems value="#{contaBancariaCadastro.listaDeBancos}" var="item" itemValue="#{item}" itemLabel="#{item.descricao}" />
                                </p:selectOneMenu>                          



                                <p:outputLabel value="#{bundle.CreateContaBancariaLabel_agencia}" for="agencia" />
                                <p:inputText id="agencia" value="#{contaBancariaCadastro.contaBancaria.agencia}" title="#{bundle.CreateContaBancariaTitle_agencia}" />

                                <p:outputLabel value="#{bundle.CreateContaBancariaLabel_agenciaDigito}" for="agencia_digito" />
                                <p:inputText id="agencia_digito" value="#{contaBancariaCadastro.contaBancaria.agenciaDigito}" title="#{bundle.CreateContaBancariaTitle_agenciaDigito}" />

                                <p:outputLabel value="#{bundle.CreateContaBancariaLabel_numero}" for="numero" />
                                <p:inputText id="numero" value="#{contaBancariaCadastro.contaBancaria.numero}" title="#{bundle.CreateContaBancariaTitle_numero}" />

                                <p:outputLabel value="#{bundle.CreateContaBancariaLabel_numeroDigito}" for="numero_digito" />
                                <p:inputText id="numero_digito" value="#{contaBancariaCadastro.contaBancaria.numeroDigito}" title="#{bundle.CreateContaBancariaTitle_numeroDigito}" />





                                <p:outputLabel value="#{bundle.CreateContaBancariaLabel_saldoInicial}" for="saldo_inicial" />
                                <p:inputText id="saldo_inicial" value="#{contaBancariaCadastro.contaBancaria.saldoInicial}" title="#{bundle.CreateContaBancariaTitle_saldoInicial}" >
                                    <f:convertNumber pattern="#0.00" />                              
                                    <p:ajax event="blur" update="saldo_inicial"  /> 
                                </p:inputText>

                                <p:outputLabel value="#{bundle.CreateContaBancariaLabel_tagValor}" for="tag_valor" />
                                <p:inputText id="tag_valor" value="#{contaBancariaCadastro.contaBancaria.tagValor}" title="#{bundle.CreateContaBancariaTitle_tagValor}" />

                                <p:outputLabel value="#{bundle.CreateContaBancariaLabel_tagData}" for="tag_data" />
                                <p:inputText id="tag_data" value="#{contaBancariaCadastro.contaBancaria.tagData}" title="#{bundle.CreateContaBancariaTitle_tagData}" />

                                <p:outputLabel value="#{bundle.CreateContaBancariaLabel_tagNumDoc}" for="tag_num_doc" />
                                <p:inputText id="tag_num_doc" value="#{contaBancariaCadastro.contaBancaria.tagNumDoc}" title="#{bundle.CreateContaBancariaTitle_tagNumDoc}" />

                                <p:outputLabel value="#{bundle.CreateContaBancariaLabel_tagHistorico}" for="tag_historico" />
                                <p:inputText id="tag_historico" value="#{contaBancariaCadastro.contaBancaria.tagHistorico}" title="#{bundle.CreateContaBancariaTitle_tagHistorico}" />

                                <p:outputLabel value="#{bundle.CreateContaBancariaLabel_tagIdentificadorTransacao}" for="tag_identificador_transacao" />
                                <p:inputText id="tag_identificador_transacao" value="#{contaBancariaCadastro.contaBancaria.tagIdentificadorTransacao}" title="#{bundle.CreateContaBancariaTitle_tagIdentificadorTransacao}" />





                            </p:panelGrid>                       

                        </p:panel>

                    </p:outputPanel>

                </h:form>

            </p:panel>                  

        </ui:define>  

    </ui:composition>

</html>
